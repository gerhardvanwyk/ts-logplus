var TSL=function(p){"use strict";var e,t,r,n,o;(e=p.LogLevel||(p.LogLevel={}))[e.Finest=0]="Finest",e[e.Finer=1]="Finer",e[e.Fine=2]="Fine",e[e.Config=3]="Config",e[e.Info=4]="Info",e[e.Warning=5]="Warning",e[e.Severe=6]="Severe",(t=p.LogLevel||(p.LogLevel={})).fromString=function(e){if(null==e)throw new Error("Argument must be set");switch(e.toLowerCase()){case"finest":return t.Finest;case"finer":return t.Finer;case"fine":return t.Fine;case"config":return t.Config;case"info":return t.Info;case"warning":return t.Warning;case"severe":return t.Severe;default:throw new Error("Unsupported value for conversion: "+e)}},(r=p.LoggerType||(p.LoggerType={}))[r.Console=0]="Console",r[r.MessageBuffer=1]="MessageBuffer",r[r.Custom=2]="Custom",(n=p.DateFormatEnum||(p.DateFormatEnum={}))[n.Default=0]="Default",n[n.YearMonthDayTime=1]="YearMonthDayTime",n[n.YearDayMonthWithFullTime=2]="YearDayMonthWithFullTime",n[n.YearDayMonthTime=3]="YearDayMonthTime",(o=p.DateFormatEnum||(p.DateFormatEnum={})).fromString=function(e){if(null==e)throw new Error("Argument must be set");switch(e.toLowerCase()){case"default":return o.Default;case"yearmonthdayTime":return o.YearMonthDayTime;case"yeardaymonthwithfulltime":return o.YearDayMonthWithFullTime;case"yeardaymonthtime":return o.YearDayMonthTime;default:throw new Error("Unsupported value for conversion: "+e)}};var i=(Object.defineProperty(a.prototype,"formatEnum",{get:function(){return this._formatEnum},set:function(e){this._formatEnum=e},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"dateSeparator",{get:function(){return this._dateSeparator},set:function(e){this._dateSeparator=e},enumerable:!0,configurable:!0}),a.prototype.copy=function(){return new a(this._formatEnum,this._dateSeparator)},a);function a(e,t){void 0===e&&(e=p.DateFormatEnum.Default),void 0===t&&(t="-"),this._formatEnum=e,this._dateSeparator=t}var s=(Object.defineProperty(g.prototype,"dateFormat",{get:function(){return this._dateFormat},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(g.prototype,"showLoggerName",{get:function(){return this._showLoggerName},set:function(e){this._showLoggerName=e},enumerable:!0,configurable:!0}),g);function g(e,t,r){void 0===e&&(e=new i),void 0===t&&(t=!0),void 0===r&&(r=!0),this._showTimeStamp=!0,this._showLoggerName=!0,this._dateFormat=e,this._showTimeStamp=t,this._showLoggerName=r}var l=(Object.defineProperty(u.prototype,"dateFormat",{get:function(){return this._dateFormat},set:function(e){this._dateFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showTimeStamp",{get:function(){return this._showTimeStamp},set:function(e){this._showTimeStamp=e},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"showCategoryName",{get:function(){return this._showCategoryName},set:function(e){this._showCategoryName=e},enumerable:!0,configurable:!0}),u.prototype.copy=function(){return new u(this._dateFormat.copy(),this._showTimeStamp,this._showCategoryName)},u);function u(e,t,r){void 0===e&&(e=new i),void 0===t&&(t=!0),void 0===r&&(r=!0),this._dateFormat=e,this._showTimeStamp=t,this._showCategoryName=r}var c=(Object.defineProperty(f.prototype,"previous",{get:function(){return this._previous},set:function(e){this._previous=e},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"next",{get:function(){return this._next},set:function(e){this._next=e},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),f);function f(e){this._previous=null,this._next=null,this._value=e}var h=(m.prototype.addHead=function(e){if(!this.createHeadIfNeeded(e)){if(null==this.head)throw new Error("This should never happen, list implementation broken");var t=this.head.next,r=new c(e);null!=t&&((t.previous=r).next=t),this.head=r}this.size++},m.prototype.addTail=function(e){if(!this.createHeadIfNeeded(e)){var t=this.getTailNode();if(null==t)throw new Error("List implementation broken");var r=new c(e);(t.next=r).previous=t}this.size++},m.prototype.clear=function(){this.head=null,this.size=0},m.prototype.getHead=function(){return null!=this.head?this.head.value:null},m.prototype.removeHead=function(){if(null==this.head)return null;var e=this.head,t=e.value;return this.head=e.next,this.size--,t},m.prototype.getTail=function(){var e=this.getTailNode();return null!=e?e.value:null},m.prototype.removeTail=function(){var e=this.getTailNode();if(null==e)return null;if(e===this.head)this.head=null;else{var t=e.previous;if(null==t)throw new Error("List implementation is broken");t.next=null}return this.size--,e.value},m.prototype.getSize=function(){return this.size},m.prototype.filter=function(e){var o=function(e,t,r){e(t.value)&&r.push(t.value);var n=t.next;null!=n&&o(e,n,r)},t=[],r=this.head;return null!=r&&o(e,r,t),t},m.prototype.createHeadIfNeeded=function(e){return null==this.head&&(this.head=new c(e),!0)},m.prototype.getTailNode=function(){if(null==this.head)return null;for(var e=this.head;null!=e.next;)e=e.next;return e},m);function m(){this.head=null,this.size=0}var d=(y.prototype.put=function(e,t){this.array[e]=t},y.prototype.get=function(e){return this.array[e]},y.prototype.exists=function(e){return void 0!==this.array[e]},y.prototype.remove=function(e){var t=this.array[e];return void 0!==t&&delete this.array[e],t},y.prototype.keys=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(t);return e},y.prototype.values=function(){var e=[];for(var t in this.array)this.array.hasOwnProperty(t)&&e.push(this.get(t));return e},y.prototype.size=function(){return this.keys().length},y.prototype.isEmpty=function(){return 0===this.size()},y.prototype.clear=function(){this.array={}},y.prototype.forEach=function(e){var t=0;for(var r in this.array)this.array.hasOwnProperty(r)&&(e(r,this.array[r],t),t++)},y.prototype.forEachValue=function(e){var t=0;for(var r in this.array)this.array.hasOwnProperty(r)&&(e(this.array[r],t),t++)},y);function y(){this.array={}}var v=(Object.defineProperty(_.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e},enumerable:!0,configurable:!0}),Object.defineProperty(_.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e},enumerable:!0,configurable:!0}),_);function _(e,t){this._x=e,this._y=t}var L=(w.prototype.append=function(e){if(void 0===e||null==e)throw new Error("String must be set, cannot append null or undefined");return this.data.push(e),this},w.prototype.appendLine=function(e){return this.data.push(e+"\n"),this},w.prototype.isEmpty=function(){return 0===this.data.length},w.prototype.clear=function(){this.data=[]},w.prototype.toString=function(e){return void 0===e&&(e=""),this.data.join(e)},w);function w(){this.data=[]}var b=function(e,t){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function S(e,t){function r(){this.constructor=e}b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function C(e,t){return e(t={exports:{}},t.exports),t.exports}var E=C(function(e,t){function r(e){return!isNaN(parseFloat(e))&&isFinite(e)}function n(e,t,r,n,o,i){void 0!==e&&this.setFunctionName(e),void 0!==t&&this.setArgs(t),void 0!==r&&this.setFileName(r),void 0!==n&&this.setLineNumber(n),void 0!==o&&this.setColumnNumber(o),void 0!==i&&this.setSource(i)}e.exports=(n.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(e){this.functionName=String(e)},getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getFileName:function(){return this.fileName},setFileName:function(e){this.fileName=String(e)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!r(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!r(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(e){this.source=String(e)},toString:function(){return(this.getFunctionName()||"{anonymous}")+"("+(this.getArgs()||[]).join(",")+")"+(this.getFileName()?"@"+this.getFileName():"")+(r(this.getLineNumber())?":"+this.getLineNumber():"")+(r(this.getColumnNumber())?":"+this.getColumnNumber():"")}},n)}),O=C(function(e,t){function r(e,t,r){if("function"==typeof Array.prototype.map)return e.map(t,r);for(var n=new Array(e.length),o=0;o<e.length;o++)n[o]=t.call(r,e[o]);return n}function n(e,t,r){if("function"==typeof Array.prototype.filter)return e.filter(t,r);for(var n=[],o=0;o<e.length;o++)t.call(r,e[o])&&n.push(e[o]);return n}var s,o,i,a;e.exports=(s=E,o=/(^|@)\S+\:\d+/,i=/^\s*at .*(\S+\:\d+|\(native\))/m,a=/^(eval@)?(\[native code\])?$/,{parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(i))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g,""));return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){var t=n(e.stack.split("\n"),function(e){return!!e.match(i)},this);return r(t,function(e){-1<e.indexOf("(eval ")&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(t.pop()),n=t.join(" ")||void 0,o=-1<function(e,t){if("function"==typeof Array.prototype.indexOf)return e.indexOf(t);for(var r=0;r<e.length;r++)if(e[r]===t)return r;return-1}(["eval","<anonymous>"],r[0])?void 0:r[0];return new s(n,void 0,o,r[1],r[2],e)},this)},parseFFOrSafari:function(e){var t=n(e.stack.split("\n"),function(e){return!e.match(a)},this);return r(t,function(e){if(-1<e.indexOf(" > eval")&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new s(e);var t=e.split("@"),r=this.extractLocation(t.pop()),n=t.join("@")||void 0;return new s(n,void 0,r[0],r[1],r[2],e)},this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],o=2,i=r.length;o<i;o+=2){var a=t.exec(r[o]);a&&n.push(new s(void 0,void 0,a[2],a[1],void 0,r[o]))}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],o=0,i=r.length;o<i;o+=2){var a=t.exec(r[o]);a&&n.push(new s(a[3]||void 0,void 0,a[2],a[1],void 0,r[o]))}return n},parseOpera11:function(e){var t=n(e.stack.split("\n"),function(e){return!!e.match(o)&&!e.match(/^Error created at/)},this);return r(t,function(e){var t,r=e.split("@"),n=this.extractLocation(r.pop()),o=r.shift()||"",i=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(t=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var a=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new s(i,a,n[0],n[1],n[2],e)},this)}})}),F=C(function(e,t){e.exports=function(){function i(e){return!isNaN(parseFloat(e))&&isFinite(e)}function r(e){return e.charAt(0).toUpperCase()+e.substring(1)}function e(e){return function(){return this[e]}}var t=["isConstructor","isEval","isNative","isToplevel"],n=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=t.concat(n,o,["args"]);function s(e){if(e instanceof Object)for(var t=0;t<a.length;t++)e.hasOwnProperty(a[t])&&void 0!==e[a[t]]&&this["set"+r(a[t])](e[a[t]])}s.prototype={getArgs:function(){return this.args},setArgs:function(e){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof s)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new s(e)}},toString:function(){var e=this.getFunctionName()||"{anonymous}",t="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",n=i(this.getLineNumber())?":"+this.getLineNumber():"",o=i(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+t+r+n+o}};for(var g=0;g<t.length;g++)s.prototype["get"+r(t[g])]=e(t[g]),s.prototype["set"+r(t[g])]=function(t){return function(e){this[t]=Boolean(e)}}(t[g]);for(var l=0;l<n.length;l++)s.prototype["get"+r(n[l])]=e(n[l]),s.prototype["set"+r(n[l])]=function(t){return function(e){if(!i(e))throw new TypeError(t+" must be a Number");this[t]=Number(e)}}(n[l]);for(var u=0;u<o.length;u++)s.prototype["get"+r(o[u])]=e(o[u]),s.prototype["set"+r(o[u])]=function(t){return function(e){this[t]=String(e)}}(o[u]);return s}()}),N=C(function(e,t){var a;e.exports=(a=F,{backtrace:function(e){var t=[],r=10;"object"==typeof e&&"number"==typeof e.maxStackSize&&(r=e.maxStackSize);for(var n=arguments.callee;n&&t.length<r;){for(var o=new Array(n.arguments.length),i=0;i<o.length;++i)o[i]=n.arguments[i];/function(?:\s+([\w$]+))+\s*\(/.test(n.toString())?t.push(new a({functionName:RegExp.$1||void 0,args:o})):t.push(new a({args:o}));try{n=n.caller}catch(e){break}}return t}})}),T=C(function(e,g){g.getArg=function(e,t,r){if(t in e)return e[t];if(3===arguments.length)return r;throw new Error('"'+t+'" is a required argument.')};var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,i=/^data:.+\,.+$/;function l(e){var t=e.match(r);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function u(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(e){var t=e,r=l(e);if(r){if(!r.path)return e;t=r.path}for(var n,o=g.isAbsolute(t),i=t.split(/\/+/),a=0,s=i.length-1;0<=s;s--)"."===(n=i[s])?i.splice(s,1):".."===n?a++:0<a&&(""===n?(i.splice(s+1,a),a=0):(i.splice(s,2),a--));return""===(t=i.join("/"))&&(t=o?"/":"."),r?(r.path=t,u(r)):t}g.urlParse=l,g.urlGenerate=u,g.normalize=a,g.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var r=l(t),n=l(e);if(n&&(e=n.path||"/"),r&&!r.scheme)return n&&(r.scheme=n.scheme),u(r);if(r||t.match(i))return t;if(n&&!n.host&&!n.path)return n.host=t,u(n);var o="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return n?(n.path=o,u(n)):o},g.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(r)},g.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return t;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var t=!("__proto__"in Object.create(null));function n(e){return e}function o(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;0<=r;r--)if(36!==e.charCodeAt(r))return!1;return!0}function s(e,t){return e===t?0:t<e?1:-1}g.toSetString=t?n:function(e){return o(e)?"$"+e:e},g.fromSetString=t?n:function(e){return o(e)?e.slice(1):e},g.compareByOriginalPositions=function(e,t,r){var n=e.source-t.source;return 0!==n?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)||r?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!=(n=e.generatedLine-t.generatedLine)?n:e.name-t.name},g.compareByGeneratedPositionsDeflated=function(e,t,r){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)||r?n:0!=(n=e.source-t.source)?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:e.name-t.name},g.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!==(r=s(e.source,t.source))?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:s(e.name,t.name)}}),R=(T.getArg,T.urlParse,T.urlGenerate,T.normalize,T.join,T.isAbsolute,T.relative,T.toSetString,T.fromSetString,T.compareByOriginalPositions,T.compareByGeneratedPositionsDeflated,T.compareByGeneratedPositionsInflated,C(function(e,l){l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.search=function(e,t,r,n){if(0===t.length)return-1;var o=function e(t,r,n,o,i,a){var s=Math.floor((r-t)/2)+t,g=i(n,o[s],!0);return 0===g?s:0<g?1<r-s?e(s,r,n,o,i,a):a==l.LEAST_UPPER_BOUND?r<o.length?r:-1:s:1<s-t?e(t,s,n,o,i,a):a==l.LEAST_UPPER_BOUND?s:t<0?-1:t}(-1,t.length,e,t,r,n||l.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;0<=o-1&&0===r(t[o],t[o-1],!0);)--o;return o}})),A=(R.GREATEST_LOWER_BOUND,R.LEAST_UPPER_BOUND,R.search,Object.prototype.hasOwnProperty);function M(){this._array=[],this._set=Object.create(null)}M.fromArray=function(e,t){for(var r=new M,n=0,o=e.length;n<o;n++)r.add(e[n],t);return r},M.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},M.prototype.add=function(e,t){var r=T.toSetString(e),n=A.call(this._set,r),o=this._array.length;n&&!t||this._array.push(e),n||(this._set[r]=o)},M.prototype.has=function(e){var t=T.toSetString(e);return A.call(this._set,t)},M.prototype.indexOf=function(e){var t=T.toSetString(e);if(A.call(this._set,t))return this._set[t];throw new Error('"'+e+'" is not in the set.')},M.prototype.at=function(e){if(0<=e&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},M.prototype.toArray=function(){return this._array.slice()};var P={ArraySet:M},j=("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1});var x=function(e,t,r){var n,o,i=e.length,a=0,s=0;do{if(i<=t)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=j(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));n=!!(32&o),a+=(o&=31)<<s,s+=5}while(n);r.value=function(e){var t=e>>1;return 1==(1&e)?-t:t}(a),r.rest=t};function k(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function G(e,t,r,n){if(r<n){var o=r-1;k(e,function(e,t){return Math.round(e+Math.random()*(t-e))}(r,n),n);for(var i=e[n],a=r;a<n;a++)t(e[a],i)<=0&&k(e,o+=1,a);k(e,o+1,a);var s=o+1;G(e,t,r,s-1),G(e,t,s+1,n)}}var D=P.ArraySet,I=function(e,t){G(e,t,0,e.length-1)};function B(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new $(t):new W(t)}B.fromSourceMap=function(e){return W.fromSourceMap(e)},B.prototype._version=3,B.prototype.__generatedMappings=null,Object.defineProperty(B.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),B.prototype.__originalMappings=null,Object.defineProperty(B.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),B.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},B.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},B.GENERATED_ORDER=1,B.ORIGINAL_ORDER=2,B.GREATEST_LOWER_BOUND=1,B.LEAST_UPPER_BOUND=2,B.prototype.eachMapping=function(e,t,r){var n,o=t||null;switch(r||B.GENERATED_ORDER){case B.GENERATED_ORDER:n=this._generatedMappings;break;case B.ORIGINAL_ORDER:n=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;n.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=i&&(t=T.join(i,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},B.prototype.allGeneratedPositionsFor=function(e){var t=T.getArg(e,"line"),r={source:T.getArg(e,"source"),originalLine:t,originalColumn:T.getArg(e,"column",0)};if(null!=this.sourceRoot&&(r.source=T.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var n=[],o=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",T.compareByOriginalPositions,R.LEAST_UPPER_BOUND);if(0<=o){var i=this._originalMappings[o];if(void 0===e.column)for(var a=i.originalLine;i&&i.originalLine===a;)n.push({line:T.getArg(i,"generatedLine",null),column:T.getArg(i,"generatedColumn",null),lastColumn:T.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var s=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==s;)n.push({line:T.getArg(i,"generatedLine",null),column:T.getArg(i,"generatedColumn",null),lastColumn:T.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return n};var U=B;function W(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=T.getArg(t,"version"),n=T.getArg(t,"sources"),o=T.getArg(t,"names",[]),i=T.getArg(t,"sourceRoot",null),a=T.getArg(t,"sourcesContent",null),s=T.getArg(t,"mappings"),g=T.getArg(t,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);n=n.map(String).map(T.normalize).map(function(e){return i&&T.isAbsolute(i)&&T.isAbsolute(e)?T.relative(i,e):e}),this._names=D.fromArray(o.map(String),!0),this._sources=D.fromArray(n,!0),this.sourceRoot=i,this.sourcesContent=a,this._mappings=s,this.file=g}function Y(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}(W.prototype=Object.create(B.prototype)).consumer=B,W.fromSourceMap=function(e){var t=Object.create(W.prototype),r=t._names=D.fromArray(e._names.toArray(),!0),n=t._sources=D.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var o=e._mappings.toArray().slice(),i=t.__generatedMappings=[],a=t.__originalMappings=[],s=0,g=o.length;s<g;s++){var l=o[s],u=new Y;u.generatedLine=l.generatedLine,u.generatedColumn=l.generatedColumn,l.source&&(u.source=n.indexOf(l.source),u.originalLine=l.originalLine,u.originalColumn=l.originalColumn,l.name&&(u.name=r.indexOf(l.name)),a.push(u)),i.push(u)}return I(t.__originalMappings,T.compareByOriginalPositions),t},W.prototype._version=3,Object.defineProperty(W.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?T.join(this.sourceRoot,e):e},this)}}),W.prototype._parseMappings=function(e,t){for(var r,n,o,i,a,s=1,g=0,l=0,u=0,c=0,p=0,f=e.length,h=0,m={},d={},y=[],v=[];h<f;)if(";"===e.charAt(h))s++,h++,g=0;else if(","===e.charAt(h))h++;else{for((r=new Y).generatedLine=s,i=h;i<f&&!this._charIsMappingSeparator(e,i);i++);if(o=m[n=e.slice(h,i)])h+=n.length;else{for(o=[];h<i;)x(e,h,d),a=d.value,h=d.rest,o.push(a);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[n]=o}r.generatedColumn=g+o[0],g=r.generatedColumn,1<o.length&&(r.source=c+o[1],c+=o[1],r.originalLine=l+o[2],l=r.originalLine,r.originalLine+=1,r.originalColumn=u+o[3],u=r.originalColumn,4<o.length&&(r.name=p+o[4],p+=o[4])),v.push(r),"number"==typeof r.originalLine&&y.push(r)}I(v,T.compareByGeneratedPositionsDeflated),this.__generatedMappings=v,I(y,T.compareByOriginalPositions),this.__originalMappings=y},W.prototype._findMapping=function(e,t,r,n,o,i){if(e[r]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[n]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[n]);return R.search(e,t,o,i)},W.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},W.prototype.originalPositionFor=function(e){var t={generatedLine:T.getArg(e,"line"),generatedColumn:T.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",T.compareByGeneratedPositionsDeflated,T.getArg(e,"bias",B.GREATEST_LOWER_BOUND));if(0<=r){var n=this._generatedMappings[r];if(n.generatedLine===t.generatedLine){var o=T.getArg(n,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=T.join(this.sourceRoot,o)));var i=T.getArg(n,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:T.getArg(n,"originalLine",null),column:T.getArg(n,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},W.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},W.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=T.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=T.urlParse(this.sourceRoot))){var n=e.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(n))return this.sourcesContent[this._sources.indexOf(n)];if((!r.path||"/"==r.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},W.prototype.generatedPositionFor=function(e){var t=T.getArg(e,"source");if(null!=this.sourceRoot&&(t=T.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var r={source:t=this._sources.indexOf(t),originalLine:T.getArg(e,"line"),originalColumn:T.getArg(e,"column")},n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",T.compareByOriginalPositions,T.getArg(e,"bias",B.GREATEST_LOWER_BOUND));if(0<=n){var o=this._originalMappings[n];if(o.source===r.source)return{line:T.getArg(o,"generatedLine",null),column:T.getArg(o,"generatedColumn",null),lastColumn:T.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var z=W;function $(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var r=T.getArg(t,"version"),n=T.getArg(t,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new D,this._names=new D;var o={line:-1,column:0};this._sections=n.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=T.getArg(e,"offset"),r=T.getArg(t,"line"),n=T.getArg(t,"column");if(r<o.line||r===o.line&&n<o.column)throw new Error("Section offsets must be ordered and non-overlapping.");return o=t,{generatedOffset:{generatedLine:r+1,generatedColumn:n+1},consumer:new B(T.getArg(e,"map"))}})}($.prototype=Object.create(B.prototype)).constructor=B,$.prototype._version=3,Object.defineProperty($.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),$.prototype.originalPositionFor=function(e){var t={generatedLine:T.getArg(e,"line"),generatedColumn:T.getArg(e,"column")},r=R.search(t,this._sections,function(e,t){var r=e.generatedLine-t.generatedOffset.generatedLine;return r||e.generatedColumn-t.generatedOffset.generatedColumn}),n=this._sections[r];return n?n.consumer.originalPositionFor({line:t.generatedLine-(n.generatedOffset.generatedLine-1),column:t.generatedColumn-(n.generatedOffset.generatedLine===t.generatedLine?n.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},$.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},$.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var n=this._sections[r].consumer.sourceContentFor(e,!0);if(n)return n}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},$.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer.sources.indexOf(T.getArg(e,"source"))){var n=r.consumer.generatedPositionFor(e);if(n)return{line:n.line+(r.generatedOffset.generatedLine-1),column:n.column+(r.generatedOffset.generatedLine===n.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},$.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var n=this._sections[r],o=n.consumer._generatedMappings,i=0;i<o.length;i++){var a=o[i],s=n.consumer._sources.at(a.source);null!==n.consumer.sourceRoot&&(s=T.join(n.consumer.sourceRoot,s)),this._sources.add(s),s=this._sources.indexOf(s);var g=n.consumer._names.at(a.name);this._names.add(g),g=this._names.indexOf(g);var l={source:s,generatedLine:a.generatedLine+(n.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(n.generatedOffset.generatedLine===a.generatedLine?n.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:g};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}I(this.__generatedMappings,T.compareByGeneratedPositionsDeflated),I(this.__originalMappings,T.compareByOriginalPositions)};var V={SourceMapConsumer:U,BasicSourceMapConsumer:z,IndexedSourceMapConsumer:$},J=C(function(e,t){function r(n){return new Promise(function(e,t){var r=new XMLHttpRequest;r.open("get",n),r.onerror=t,r.onreadystatechange=function(){4===r.readyState&&(200<=r.status&&r.status<300?e(r.responseText):t(new Error("HTTP status: "+r.status+" retrieving "+n)))},r.send()})}function n(e){if("undefined"!=typeof window&&window.atob)return window.atob(e);throw new Error("You must supply a polyfill for window.atob in this environment")}function u(e){if("object"!=typeof e)throw new TypeError("Given StackFrame is not an object");if("string"!=typeof e.fileName)throw new TypeError("Given file name is not a String");if("number"!=typeof e.lineNumber||e.lineNumber%1!=0||e.lineNumber<1)throw new TypeError("Given line number must be a positive integer");if("number"!=typeof e.columnNumber||e.columnNumber%1!=0||e.columnNumber<0)throw new TypeError("Given column number must be a non-negative integer");return!0}var c,p;e.exports=(c=V,p=E,function e(l){if(!(this instanceof e))return new e(l);l=l||{},this.sourceCache=l.sourceCache||{},this.ajax=l.ajax||r,this._atob=l.atob||n,this._get=function(g){return new Promise(function(e,t){var r="data:"===g.substr(0,5);if(this.sourceCache[g])e(this.sourceCache[g]);else if(l.offline&&!r)t(new Error("Cannot make network requests in offline mode"));else if(r){var n=g.match(/^data:application\/json;([\w=:"-]+;)*base64,/);if(n){var o=n[0].length,i=g.substr(o),a=this._atob(i);this.sourceCache[g]=a,e(a)}else t(new Error("The encoding of the inline sourcemap is not supported"))}else{var s=this.ajax(g,{method:"get"});(this.sourceCache[g]=s).then(e,t)}}.bind(this))},this.pinpoint=function(t){return new Promise(function(r,e){this.getMappedLocation(t).then(function(e){function t(){r(e)}this.findFunctionName(e).then(r,t).catch(t)}.bind(this),e)}.bind(this))},this.findFunctionName=function(i){return new Promise(function(o,e){u(i),this._get(i.fileName).then(function(e){var t=i.lineNumber,r=i.columnNumber,n=function(e,t){for(var r,n=/function\s+([^(]*?)\s*\(([^)]*)\)/,o=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,i=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,a=e.split("\n"),s="",g=Math.min(t,20),l=0;l<g;++l){var u=a[t-l-1],c=u.indexOf("//");if(0<=c&&(u=u.substr(0,c)),u){if(s=u+s,(r=o.exec(s))&&r[1])return r[1];if((r=n.exec(s))&&r[1])return r[1];if((r=i.exec(s))&&r[1])return r[1]}}}(e,t);o(n?new p(n,i.args,i.fileName,t,r):i)},e).catch(e)}.bind(this))},this.getMappedLocation=function(g){return new Promise(function(o,i){!function(){if("function"!=typeof Object.defineProperty||"function"!=typeof Object.create)throw new Error("Unable to consume source maps in older browsers")}(),u(g);var a=this.sourceCache,s=g.fileName;this._get(s).then(function(e){var t=function(e){var t=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/.exec(e);if(t&&t[1])return t[1];throw new Error("sourceMappingURL not found")}(e),r="data:"===t.substr(0,5),n=s.substring(0,s.lastIndexOf("/")+1);"/"===t[0]||r||/^https?:\/\/|^\/\//i.test(t)||(t=n+t),this._get(t).then(function(e){"string"==typeof e&&(e=function(e){if("undefined"!=typeof JSON&&JSON.parse)return JSON.parse(e);throw new Error("You must supply a polyfill for JSON.parse in this environment")}(e.replace(/^\)\]\}'/,""))),void 0===e.sourceRoot&&(e.sourceRoot=n),function(i,a,s){return new Promise(function(e,t){var r=new c.SourceMapConsumer(a),n=r.originalPositionFor({line:i.lineNumber,column:i.columnNumber});if(n.source){var o=r.sourceContentFor(n.source);o&&(s[n.source]=o),e(new p(n.name||i.functionName,i.args,n.source,n.line,n.column))}else t(new Error("Could not get original source for given stackframe and source map"))})}(g,e,a).then(o).catch(function(){o(g)})},i).catch(i)}.bind(this),i).catch(i)}.bind(this))}})}),H=C(function(e,t){function i(e,t){var r={};return[e,t].forEach(function(e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}),r}function a(e){return e.stack||e["opera#sourceloc"]}function s(e,t){return"function"==typeof t?e.filter(t):e}var g,n,l,u,o;e.exports=(g=O,n=N,l=J,u={filter:function(e){return-1===(e.functionName||"").indexOf("StackTrace$$")&&-1===(e.functionName||"").indexOf("ErrorStackParser$$")&&-1===(e.functionName||"").indexOf("StackTraceGPS$$")&&-1===(e.functionName||"").indexOf("StackGenerator$$")},sourceCache:{}},o=function(){try{throw new Error}catch(e){return e}},{get:function(e){var t=o();return a(t)?this.fromError(t,e):this.generateArtificially(e)},getSync:function(e){e=i(u,e);var t=o(),r=a(t)?g.parse(t):n.backtrace(e);return s(r,e.filter)},fromError:function(r,n){n=i(u,n);var o=new l(n);return new Promise(function(e){var t=s(g.parse(r),n.filter);e(Promise.all(t.map(function(r){return new Promise(function(e){function t(){e(r)}o.pinpoint(r).then(e,t).catch(t)})})))}.bind(this))},generateArtificially:function(e){e=i(u,e);var t=n.backtrace(e);return"function"==typeof e.filter&&(t=t.filter(e.filter)),Promise.resolve(t)},instrument:function(e,t,r,n){if("function"!=typeof e)throw new Error("Cannot instrument non-function object");if("function"==typeof e.__stacktraceOriginalFn)return e;var o=function(){try{return this.get().then(t,r).catch(r),e.apply(n||this,arguments)}catch(e){throw a(e)&&this.fromError(e).then(t,r).catch(r),e}}.bind(this);return o.__stacktraceOriginalFn=e,o},deinstrument:function(e){if("function"!=typeof e)throw new Error("Cannot de-instrument non-function object");return"function"==typeof e.__stacktraceOriginalFn?e.__stacktraceOriginalFn:e},report:function(o,i,a){return new Promise(function(e,t){var r=new XMLHttpRequest;r.onerror=t,r.onreadystatechange=function(){4===r.readyState&&(200<=r.status&&r.status<400?e(r.responseText):t(new Error("POST to "+i+" failed with status: "+r.status)))},r.open("post",i),r.setRequestHeader("Content-Type","application/json");var n={stack:o};void 0!==a&&(n.message=a),r.send(JSON.stringify(n))})}})}).fromError,q=(K.renderDate=function(e,t){function r(e,t,r){var n=t-e.length;if(0<n){for(var o="",i=0;i<n;i++)o+=r;return o+=e}return e}function n(e){return r(e.getFullYear().toString(),4,"0")}function o(e){return r((e.getMonth()+1).toString(),2,"0")}function i(e){return r(e.getDate().toString(),2,"0")}function a(e){return r(e.getHours().toString(),2,"0")}function s(e){return r(e.getMinutes().toString(),2,"0")}function g(e){return r(e.getSeconds().toString(),2,"0")}function l(e){return r(e.getMilliseconds().toString(),3,"0")}var u=t.dateSeparator,c="";switch(t.formatEnum){case p.DateFormatEnum.Default:c=n(e)+u+o(e)+u+i(e)+" "+a(e)+":"+s(e)+":"+g(e)+","+l(e);break;case p.DateFormatEnum.YearMonthDayTime:c=n(e)+u+o(e)+u+i(e)+" "+a(e)+":"+s(e)+":"+g(e);break;case p.DateFormatEnum.YearDayMonthWithFullTime:c=n(e)+u+i(e)+u+o(e)+" "+a(e)+":"+s(e)+":"+g(e)+","+l(e);break;case p.DateFormatEnum.YearDayMonthTime:c=n(e)+u+i(e)+u+o(e)+" "+a(e)+":"+s(e)+":"+g(e);break;default:throw new Error("Unsupported date format enum: "+t.formatEnum)}return c},K.renderDefaultMessage=function(e,t){var r="",n=e.logFormat;n.showTimeStamp&&(r+=K.renderDate(e.date,n.dateFormat)+" "),r+=p.LogLevel[e.level].toUpperCase(),e.isResolvedErrorMessage&&(r+=" (resolved)"),r+=" ",n.showCategoryName&&(r+="[",e.categories.forEach(function(e,t){0<t&&(r+=", "),r+=e.name}),r+="]");var o="",i="",a=e.message;if("string"==typeof a)o=a;else{var s=a;o=s.msg,s.data&&(i=" [data]: "+(s.ds?s.ds(s.data):JSON.stringify(s.data)))}return r+=" "+o+i,t&&null!==e.errorAsStack&&(r+="\n"+e.errorAsStack),r},K.renderDefaultLog4jMessage=function(e,t){var r=e.logGroupRule.logFormat,n="";r.showTimeStamp&&(n+=K.renderDate(e.date,r.dateFormat)+" "),n+=p.LogLevel[e.level].toUpperCase()+" ",r.showLoggerName&&(n+="["+e.loggerName+"]");var o="",i="";if("string"==typeof e.message)o=e.message;else{var a=e.message;o=a.msg,a.data&&(i=" [data]: "+(a.ds?a.ds(a.data):JSON.stringify(a.data)))}return n+=" "+o+i,t&&null!==e.errorAsStack&&(n+="\n"+e.errorAsStack),n},K.renderError=function(e){var n=e.name+": "+e.message+"\n@";return new Promise(function(r){H(e,{offline:!0}).then(function(e){var t=e.map(function(e){return e.toString()}).join("\n  ");r(n+="\n"+t)}).catch(function(){n="Unexpected error object was passed in. ";try{n+="Could not resolve it, stringified object: "+JSON.stringify(e)}catch(e){n+="Could not resolve it or stringify it."}r(n)})})},K);function K(){}var Z=(Object.defineProperty(X.prototype,"loggerName",{get:function(){return this._loggerName},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"message",{get:function(){return this._message},set:function(e){this._message=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"error",{get:function(){return this._error},set:function(e){this._error=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"logGroupRule",{get:function(){return this._logGroupRule},set:function(e){this._logGroupRule=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"date",{get:function(){return this._date},set:function(e){this._date=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"ready",{get:function(){return this._ready},set:function(e){this._ready=e},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),X);function X(e,t,r,n,o,i,a,s){this._errorAsStack=null,this._error=null,this._loggerName=e,this._message=t,this._errorAsStack=r,this._error=n,this._logGroupRule=o,this._date=i,this._level=a,this._ready=s}var Q=(Object.defineProperty(ee.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),ee.prototype.finest=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Finest,e,t)},ee.prototype.finer=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Finer,e,t)},ee.prototype.fine=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Fine,e,t)},ee.prototype.config=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Config,e,t)},ee.prototype.info=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Info,e,t)},ee.prototype.warning=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Warning,e,t)},ee.prototype.severe=function(e,t){void 0===t&&(t=null),this._log(p.LogLevel.Severe,e,t)},ee.prototype.isFinestEnabled=function(){return this._logGroupRuntimeSettings.level===p.LogLevel.Finest},ee.prototype.isFinerEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Finer},ee.prototype.isFineEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Fine},ee.prototype.isConfigEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Config},ee.prototype.isInfoEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Info},ee.prototype.isWarningEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Warning},ee.prototype.isSevereEnabled=function(){return this._logGroupRuntimeSettings.level<=p.LogLevel.Severe},ee.prototype.getLogLevel=function(){return this._logGroupRuntimeSettings.level},ee.prototype.isOpen=function(){return this._open},ee.prototype.close=function(){this._open=!1,this._allMessages.clear()},ee.prototype.createDefaultLogMessage=function(e){return q.renderDefaultLog4jMessage(e,!0)},ee.prototype._getMessageFormatter=function(){return this._logGroupRuntimeSettings.formatterLogMessage},ee.prototype._log=function(e,t,r){void 0===r&&(r=null),this._open&&this._logGroupRuntimeSettings.level<=e&&(this._allMessages.addTail(this.createMessage(e,function(){return"function"==typeof t?t():t},function(){return"function"==typeof r?r():r},new Date)),this.processMessages())},ee.prototype.createMessage=function(e,t,r,n){var o=this,i=r();if(null===i)return new Z(this._name,t(),null,i,this._logGroupRuntimeSettings.logGroupRule,n,e,!0);var a=new Z(this._name,t(),null,i,this._logGroupRuntimeSettings.logGroupRule,n,e,!1);return q.renderError(i).then(function(e){a.errorAsStack=e,a.ready=!0,o.processMessages()}).catch(function(){a.errorAsStack="<UNKNOWN> unable to get stack.",a.ready=!0,o.processMessages()}),a},ee.prototype.processMessages=function(){var e=this._allMessages;if(0<e.getSize())do{var t=e.getHead();if(null!=t){if(!t.ready)break;e.removeHead(),null!==t.message&&this.doLog(t)}}while(0<e.getSize())},ee);function ee(e,t){this._allMessages=new h,this._open=!0,this._name=e,this._logGroupRuntimeSettings=t}var te,re=(S(ne,te=Q),ne.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.message);var t=!1,r=e.level,n=this._getMessageFormatter(),o=void 0;switch(o=null===n?this.createDefaultLogMessage(e):n(e),r){case p.LogLevel.Finest:case p.LogLevel.Finer:case p.LogLevel.Fine:break;case p.LogLevel.Config:console.info&&(console.info("CONFIG "+o),t=!0);break;case p.LogLevel.Info:console.info&&(console.info(o),t=!0);break;case p.LogLevel.Warning:console.warn&&(console.warn(o),t=!0);break;case p.LogLevel.Severe:console.error&&(console.error(o),t=!0);break;default:throw new Error("Log level not supported: "+r)}t||console.log(o)},ne);function ne(e,t){return te.call(this,e,t)||this}var oe,ie=(S(ae,oe=Q),ae.prototype.close=function(){this.messages=[],oe.prototype.close.call(this)},ae.prototype.getMessages=function(){return this.messages},ae.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},ae.prototype.doLog=function(e){var t,r=this._getMessageFormatter();t=null===r?this.createDefaultLogMessage(e):r(e),this.messages.push(t)},ae);function ae(e,t){var r=oe.call(this,e,t)||this;return r.messages=[],r}var se=(Object.defineProperty(ge.prototype,"logGroupRule",{get:function(){return this._logGroupRule},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"level",{get:function(){return this._level},set:function(e){this._level=e},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(ge.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),ge);function ge(e){this._formatterLogMessage=null,this._logGroupRule=e,this._level=e.level,this._loggerType=e.loggerType,this._logFormat=new s(new i(e.logFormat.dateFormat.formatEnum,e.logFormat.dateFormat.dateSeparator),e.logFormat.showTimeStamp,e.logFormat.showLoggerName),this._callBackLogger=e.callBackLogger,this._formatterLogMessage=e.formatterLogMessage}var le=(ue.prototype.configure=function(e){this._options=e,this.closeLoggers(),this._loggerToLogGroupSettings.clear(),this._logGroupRuntimeSettingsIndexed=[];for(var t=this._options.logGroupRules,r=0;r<t.length;r++)this._logGroupRuntimeSettingsIndexed.push(new se(t[r]))},ue.prototype.getLogger=function(e){if(!this._options.enabled)throw new Error("LoggerFactory is not enabled, please check your options passed in");var t=this._loggers.get(e);return void 0!==t||(t=this.loadLogger(e),this._loggers.put(e,t)),t},ue.prototype.isEnabled=function(){return this._options.enabled},ue.prototype.closeLoggers=function(){this._loggers.forEachValue(function(e){e instanceof Q&&e.close()}),this._loggers.clear()},ue.prototype.getName=function(){return this._name},ue.prototype.getLogGroupRuntimeSettingsByIndex=function(e){return 0<=e&&e<this._logGroupRuntimeSettingsIndexed.length?this._logGroupRuntimeSettingsIndexed[e]:null},ue.prototype.getLogGroupRuntimeSettingsByLoggerName=function(e){var t=this._loggerToLogGroupSettings.get(e);return void 0===t?null:t},ue.prototype.getLogGroupRuntimeSettings=function(){return this._logGroupRuntimeSettingsIndexed.slice(0)},ue.prototype.loadLogger=function(e){for(var t=this._options.logGroupRules,r=0;r<t.length;r++){var n=t[r];if(n.regExp.test(e)){var o=this._logGroupRuntimeSettingsIndexed[r],i=void 0;switch(n.loggerType){case p.LoggerType.Console:i=new re(e,o);break;case p.LoggerType.MessageBuffer:i=new ie(e,o);break;case p.LoggerType.Custom:if(null==n.callBackLogger)throw new Error("Cannot create a custom logger, custom callback is null");i=n.callBackLogger(e,o);break;default:throw new Error("Cannot create a Logger for LoggerType: "+n.loggerType)}return this._loggerToLogGroupSettings.put(e,o),i}}throw new Error("Failed to find a match to create a Logger for: "+e)},ue);function ue(e,t){this._loggers=new d,this._logGroupRuntimeSettingsIndexed=[],this._loggerToLogGroupSettings=new d,this._name=e,this.configure(t)}var ce=(Object.defineProperty(pe.prototype,"message",{get:function(){return this._message},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"error",{get:function(){return this._error},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"categories",{get:function(){return this._categories},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"date",{get:function(){return this._date},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"isMessageLogData",{get:function(){return"string"!=typeof this._message},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"messageAsString",{get:function(){return"string"==typeof this._message?this._message:this._message.msg},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"logData",{get:function(){var e=null;return"string"!=typeof this._message&&(e=this.message),e},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"isResolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"errorAsStack",{get:function(){return this._errorAsStack},set:function(e){this._errorAsStack=e},enumerable:!0,configurable:!0}),pe.prototype.isReady=function(){return this._ready},pe.prototype.setReady=function(e){this._ready=e},Object.defineProperty(pe.prototype,"resolvedErrorMessage",{get:function(){return this._resolvedErrorMessage},set:function(e){this._resolvedErrorMessage=e},enumerable:!0,configurable:!0}),pe);function pe(e,t,r,n,o,i,a){this._resolvedErrorMessage=!1,this._errorAsStack=null,this._message=e,this._error=t,this._categories=r,this._date=n,this._level=o,this._logFormat=i,this._ready=a}var fe=(he.prototype.finest=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[p.LogLevel.Finest,e,null,!1].concat(t))},he.prototype.finer=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[p.LogLevel.Finer,e,null,!1].concat(t))},he.prototype.fine=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[p.LogLevel.Fine,e,null,!1].concat(t))},he.prototype.config=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[p.LogLevel.Config,e,null,!1].concat(t))},he.prototype.info=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this._log.apply(this,[p.LogLevel.Info,e,null,!1].concat(t))},he.prototype.warning=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[p.LogLevel.Warning,e,t,!1].concat(r))},he.prototype.severe=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[p.LogLevel.Severe,e,t,!1].concat(r))},he.prototype.resolved=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this._log.apply(this,[p.LogLevel.Severe,e,t,!0].concat(r))},he.prototype.log=function(e,t,r){for(var n=[],o=3;o<arguments.length;o++)n[o-3]=arguments[o];this._log.apply(this,[e,t,r,!1].concat(n))},he.prototype.getRootCategory=function(){return this.rootCategory},he.prototype.createDefaultLogMessage=function(e){return q.renderDefaultMessage(e,!0)},he.prototype._getMessageFormatter=function(){var e=this.runtimeSettings.getCategorySettings(this.rootCategory);if(null===e)throw new Error("Did not find CategorySettings for rootCategory: "+this.rootCategory.name);return e.formatterLogMessage},he.prototype._log=function(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=!1);for(var o=[],i=4;i<arguments.length;i++)o[i-4]=arguments[i];this._logInternal.apply(this,[e,function(){return"function"==typeof t?t():t},function(){return"function"==typeof r?r():r},n].concat(o))},he.prototype._logInternal=function(a,s,g,l){for(var u=this,e=[],t=4;t<arguments.length;t++)e[t-4]=arguments[t];var c=[this.rootCategory];void 0!==e&&0<e.length&&(c=c.concat(e.filter(function(e){return e!==u.rootCategory})));for(var r=function(e){var t=c[e];if(null===t)throw new Error("Cannot have a null element within categories, at index="+e);var r=p.runtimeSettings.getCategorySettings(t);if(null===r)throw new Error("Category with path: "+t.getCategoryPath()+" is not registered with this logger, maybe you registered it with a different root logger?");if(r.logLevel<=a){var n=null!==g?g():null;if(null===n){var o=new ce(s(),n,c,new Date,a,r.logFormat,!0);o.resolvedErrorMessage=l,p.allMessages.addTail(o),p.processMessages()}else{var i=new ce(s(),n,c,new Date,a,r.logFormat,!1);i.resolvedErrorMessage=l,p.allMessages.addTail(i),q.renderError(n).then(function(e){i.errorAsStack=e,i.setReady(!0),u.processMessages()}).catch(function(){i.errorAsStack="<UNKNOWN> unable to get stack.",i.setReady(!0),u.processMessages()})}return"break"}},p=this,n=0;n<c.length&&"break"!==r(n);n++);},he.prototype.processMessages=function(){var e=this.allMessages;if(0<e.getSize())do{var t=e.getHead();if(null!=t){if(!t.isReady())break;e.removeHead(),this.doLog(t)}}while(0<e.getSize())},he);function he(e,t){this.allMessages=new h,this.rootCategory=e,this.runtimeSettings=t}var me,de=(S(ye,me=fe),ye.prototype.doLog=function(e){if(void 0===console)throw new Error("Console is not defined, cannot log msg: "+e.messageAsString);var t=this._getMessageFormatter(),r=void 0;r=null===t?this.createDefaultLogMessage(e):t(e);var n=!1;switch(e.level){case p.LogLevel.Finest:case p.LogLevel.Finer:case p.LogLevel.Fine:break;case p.LogLevel.Info:case p.LogLevel.Config:console.info&&(console.info("CONFIG "+r),n=!0);break;case p.LogLevel.Warning:console.warn&&(console.warn(r),n=!0);break;case p.LogLevel.Severe:console.error&&(console.error(r),n=!0);break;default:throw new Error("Unsupported level: "+e.level)}n||console.log(r)},ye);function ye(e,t){return me.call(this,e,t)||this}var ve=(Object.defineProperty(_e.prototype,"delegate",{get:function(){return this._delegate},set:function(e){this._delegate=e},enumerable:!0,configurable:!0}),_e.prototype.finest=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._delegate).finest.apply(t,[e].concat(r))},_e.prototype.finer=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._delegate).finer.apply(t,[e].concat(r))},_e.prototype.fine=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._delegate).fine.apply(t,[e].concat(r))},_e.prototype.config=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._delegate).config.apply(t,[e].concat(r))},_e.prototype.info=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];(t=this._delegate).info.apply(t,[e].concat(r))},_e.prototype.warning=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).warning.apply(r,[e,t].concat(n))},_e.prototype.severe=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).severe.apply(r,[e,t].concat(n))},_e.prototype.resolved=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];(r=this._delegate).resolved.apply(r,[e,t].concat(n))},_e.prototype.log=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];(n=this._delegate).log.apply(n,[e,t,r].concat(o))},_e);function _e(e){this._delegate=e}var Le,we=(S(be,Le=fe),be.prototype.doLog=function(e){"undefined"!=typeof window?ke.sendCategoryLogMessage(e):console.log("window is not available, you must be running in a browser for this. Dropped message.")},be);function be(e,t){return Le.call(this,e,t)||this}var Se,Ce=(S(Ee,Se=fe),Ee.prototype.getMessages=function(){return this.messages},Ee.prototype.toString=function(){return this.messages.map(function(e){return e}).join("\n")},Ee.prototype.doLog=function(e){var t,r=this._getMessageFormatter();t=null===r?this.createDefaultLogMessage(e):r(e),this.messages.push(t)},Ee);function Ee(){var e=null!==Se&&Se.apply(this,arguments)||this;return e.messages=[],e}var Oe=(Object.defineProperty(Fe.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"loggerType",{get:function(){return this._loggerType},set:function(e){this._loggerType=e},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"logFormat",{get:function(){return this._logFormat},set:function(e){this._logFormat=e},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"callBackLogger",{get:function(){return this._callBackLogger},set:function(e){this._callBackLogger=e},enumerable:!0,configurable:!0}),Object.defineProperty(Fe.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){this._formatterLogMessage=e},enumerable:!0,configurable:!0}),Fe);function Fe(e,t,r,n,o,i){void 0===t&&(t=p.LogLevel.Warning),void 0===r&&(r=p.LoggerType.Console),void 0===n&&(n=new l),void 0===o&&(o=null),void 0===i&&(i=null),this._formatterLogMessage=null,this._category=e,this._logLevel=t,this._loggerType=r,this._logFormat=n,this._callBackLogger=o,this._formatterLogMessage=i}var Ne=(Object.defineProperty(Te.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(Te.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===p.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),Te.prototype.copy=function(){var e=new Te(this.logLevel,this.loggerType,this.logFormat.copy(),this.callBackLogger);return e.formatterLogMessage=this.formatterLogMessage,e},Te);function Te(e,t,r,n){if(void 0===e&&(e=p.LogLevel.Warning),void 0===t&&(t=p.LoggerType.Console),void 0===r&&(r=new l),void 0===n&&(n=null),this._formatterLogMessage=null,this._logLevel=e,this._loggerType=t,this._logFormat=r,this._callBackLogger=n,this._loggerType===p.LoggerType.Custom&&null===this.callBackLogger)throw new Error("If you specify loggerType to be Custom, you must provide the callBackLogger argument")}var Re=(Ae.getInstance=function(){return null===Ae._INSTANCE&&(Ae._INSTANCE=new Ae),Ae._INSTANCE},Ae.prototype.getLogger=function(e){return this.createOrGetCategoryState(e).logger},Ae.prototype.clear=function(){this._mapState.clear(),this.setDefaultConfiguration(new Ne)},Ae.prototype.getCategorySettings=function(e){return this.createOrGetCategoryState(e).currentRuntimeSettings},Ae.prototype.getOriginalCategorySettings=function(e){return this.createOrGetCategoryState(e).originalRuntimeSettings},Ae.prototype.setDefaultConfiguration=function(t,e){void 0===e&&(e=!0),this._defaultConfig=t,e&&this._mapState.forEachValue(function(e){e.updateSettings(t)})},Ae.prototype.setConfigurationCategory=function(t,e,r){var n=this;void 0===r&&(r=!1),this.createOrGetCategoryState(e).updateSettings(t),r&&e.children.forEach(function(e){n.setConfigurationCategory(t,e,r)})},Ae.prototype.registerCategory=function(e){if(null==e)throw new Error("Category CANNOT be null/undefined");if(this._mapState.exists(Ae.getCategoryKey(e)))throw new Error("Cannot add this root category with name: "+e.name+", it already exists (same name in hierarchy).");this.createOrGetCategoryState(e)},Ae.prototype.enableExtensionIntegration=function(){var t=this;this._mapState.forEachValue(function(e){return e.enableForExtension(t)})},Ae.prototype.getRootCategories=function(){return this._mapState.values().filter(function(e){return null==e.category.parent}).map(function(e){return e.category})},Ae.prototype.getCategoryById=function(t){var e=this._mapState.values().filter(function(e){return e.category.id===t}).map(function(e){return e.category});return 1===e.length?e[0]:null},Ae.prototype.createOrGetCategoryState=function(e){var t=Ae.getCategoryKey(e),r=this._mapState.get(t);if(void 0!==r)return r;var n=this.createState(e);return this._mapState.put(t,n),n},Ae.prototype.createState=function(e){var r=this;return new Me(e,function(){return r._defaultConfig},function(e,t){return r.createLogger(e,t)})},Ae.prototype.createLogger=function(e,t){switch(e.loggerType){case p.LoggerType.Console:return new de(t,this);case p.LoggerType.MessageBuffer:return new Ce(t,this);case p.LoggerType.Custom:if(null===e.callBackLogger)throw new Error("Cannot create custom logger, custom callback is null");return e.callBackLogger(t,this);default:throw new Error("Cannot create a Logger for LoggerType: "+e.loggerType)}},Ae.getCategoryKey=function(e){return e.getCategoryPath()},Ae._INSTANCE=null,Ae);function Ae(){this._defaultConfig=new Ne,this._mapState=new d,ke.register()}var Me=(Object.defineProperty(Pe.prototype,"category",{get:function(){return this._category},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"logger",{get:function(){return this._lazyState.getLogger()},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"originalRuntimeSettings",{get:function(){return this._lazyState.getOriginalRuntimeSettings()},enumerable:!0,configurable:!0}),Object.defineProperty(Pe.prototype,"currentRuntimeSettings",{get:function(){return this._lazyState.getCurrentRuntimeSettings()},enumerable:!0,configurable:!0}),Pe.prototype.enableForExtension=function(e){this._lazyState.enableForExtension(e)},Pe.prototype.updateSettings=function(e){this._lazyState.updateSettings(e)},Pe);function Pe(e,t,r){this._category=e,this._lazyState=new je(e,t,r)}var je=(xe.prototype.isLoaded=function(){return void 0!==this._logger},xe.prototype.getLogger=function(){return this.loadLoggerOnDemand(),this._delegateLogger},xe.prototype.getOriginalRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._originalRuntimeSettings},xe.prototype.getCurrentRuntimeSettings=function(){return this.loadLoggerOnDemand(),this._currentRuntimeSettings},xe.prototype.enableForExtension=function(e){this.loadLoggerOnDemand(),this._wrappedLogger instanceof we||(console.log("Reconfiguring logger for extension for category: "+this._category.name),this._wrappedLogger=new we(this._category,e),this._delegateLogger.delegate=this._wrappedLogger)},xe.prototype.updateSettings=function(e){this.isLoaded()?(this._currentRuntimeSettings.logLevel=e.logLevel,this._currentRuntimeSettings.loggerType=e.loggerType,this._currentRuntimeSettings.logFormat=e.logFormat,this._currentRuntimeSettings.callBackLogger=e.callBackLogger,this._currentRuntimeSettings.formatterLogMessage=e.formatterLogMessage,this._logger=this._createLogger(e,this._category),this._wrappedLogger instanceof we||(this._wrappedLogger=this._logger),this._delegateLogger.delegate=this._wrappedLogger):this._defaultConfig=function(){return e}},xe.prototype.loadLoggerOnDemand=function(){this.isLoaded()||(this._logger=this._createLogger(this._defaultConfig(),this._category),this._wrappedLogger=this._logger,this._delegateLogger=new ve(this._wrappedLogger),this._originalRuntimeSettings=this.initNewSettings(),this._currentRuntimeSettings=this.initNewSettings())},xe.prototype.initNewSettings=function(){var e=this._defaultConfig().copy();return new Oe(this._category,e.logLevel,e.loggerType,e.logFormat,e.callBackLogger,e.formatterLogMessage)},xe);function xe(e,t,r){this._category=e,this._defaultConfig=t,this._createLogger=r}var ke=(Ge.register=function(){if(!Ge.registered){var e=function(e){var t=e.data;null!==t&&Ge.processMessageFromExtension(t)};"undefined"!=typeof window&&void 0!==window.removeEventListener&&void 0!==window.addEventListener&&(window.removeEventListener("message",e),window.addEventListener("message",e),Ge.registered=!0)}},Ge.processMessageFromExtension=function(e){if(Ge.registered&&"tsl-extension"===e.from){var t=e.data;switch(t.type){case"register":Ge.enableExtensionIntegration();break;case"request-change-loglevel":var r=t.value,n=Ge.applyLogLevel(r.categoryId,r.logLevel,r.recursive);0<n.length&&Ge.sendCategoriesRuntimeUpdateMessage(n);break;default:console.log("Unknown command to process message from extension, command was: "+t.type)}}},Ge.sendCategoryLogMessage=function(e){if(Ge.registered){var t={type:"log-message",value:{categories:e.categories.map(function(e){return e.id}),errorAsStack:e.errorAsStack,formattedMessage:q.renderDefaultMessage(e,!1),logLevel:p.LogLevel[e.level].toString(),message:e.messageAsString,resolvedErrorMessage:e.isResolvedErrorMessage}};Ge.sendMessage({data:t,from:"tsl-logging"})}},Ge.sendCategoriesRuntimeUpdateMessage=function(e){if(Ge.registered){var r=Re.getInstance(),n={categories:Array()};e.forEach(function(e){var t=r.getCategorySettings(e);null!=t&&n.categories.push({id:e.id,logLevel:p.LogLevel[t.logLevel].toString()})}),Ge.sendMessage({data:{type:"categories-rt-update",value:n},from:"tsl-logging"})}},Ge.sendRootCategoriesToExtension=function(){if(Ge.registered){var e=Re.getInstance().getRootCategories().map(function(e){return Ge.getCategoryAsJSON(e)});Ge.sendMessage({data:{type:"root-categories-tree",value:e},from:"tsl-logging"})}},Ge.getCategoryAsJSON=function(e){return{children:e.children.map(function(e){return Ge.getCategoryAsJSON(e)}),id:e.id,logLevel:p.LogLevel[e.logLevel].toString(),name:e.name,parentId:null!=e.parent?e.parent.id:null}},Ge.applyLogLevel=function(e,t,r){var n=[],o=Re.getInstance().getCategoryById(e);return null!=o?Ge._applyLogLevelRecursive(o,p.LogLevel.fromString(t),r,n):console.log("Could not change log level, failed to find category with id: "+e),n},Ge._applyLogLevelRecursive=function(e,t,r,n){var o=Re.getInstance().getCategorySettings(e);null!=o&&(o.logLevel=t,n.push(e),r&&e.children.forEach(function(e){Ge._applyLogLevelRecursive(e,t,r,n)}))},Ge.getAllCategories=function(){var t=[],r=function(e,t){t.push(e),e.children.forEach(function(e){r(e,t)})};return Re.getInstance().getRootCategories().forEach(function(e){r(e,t)}),t},Ge.sendMessage=function(e){Ge.registered&&"undefined"!=typeof window&&void 0!==window.postMessage&&window.postMessage(e,"*")},Ge.enableExtensionIntegration=function(){if(Ge.registered){Re.getInstance().enableExtensionIntegration(),Ge.sendRootCategoriesToExtension();var e=Ge.getAllCategories();Ge.sendCategoriesRuntimeUpdateMessage(e)}},Ge.registered=!1,Ge);function Ge(){}var De=(Object.defineProperty(Ie.prototype,"regExp",{get:function(){return this._regExp},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"loggerType",{get:function(){return this._loggerType},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"logFormat",{get:function(){return this._logFormat},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"callBackLogger",{get:function(){return this._callBackLogger},enumerable:!0,configurable:!0}),Object.defineProperty(Ie.prototype,"formatterLogMessage",{get:function(){return this._formatterLogMessage},set:function(e){if(null!==e&&this._loggerType===p.LoggerType.Custom)throw new Error("You cannot specify a formatter for log messages if your loggerType is Custom");this._formatterLogMessage=e},enumerable:!0,configurable:!0}),Ie);function Ie(e,t,r,n,o){void 0===r&&(r=new s),void 0===n&&(n=p.LoggerType.Console),void 0===o&&(o=null),this._formatterLogMessage=null,this._regExp=e,this._level=t,this._logFormat=r,this._loggerType=n,this._callBackLogger=o}var Be=(Ue.prototype.addLogGroupRule=function(e){return this._logGroupRules.push(e),this},Ue.prototype.setEnabled=function(e){return this._enabled=e,this},Object.defineProperty(Ue.prototype,"logGroupRules",{get:function(){return this._logGroupRules},enumerable:!0,configurable:!0}),Object.defineProperty(Ue.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Ue);function Ue(){this._logGroupRules=[],this._enabled=!0}var We=(Ye.getInstance=function(){return null===Ye._INSTANCE&&(Ye._INSTANCE=new Ye),Ye._INSTANCE},Ye.prototype.createLoggerFactory=function(e){void 0===e&&(e=null);var t="LoggerFactory"+this._nameCounter++;return this.createNamedLoggerFactory(t,e)},Ye.prototype.createNamedLoggerFactory=function(e,t){if(void 0===t&&(t=null),this._mapFactories.exists(e))throw new Error("LoggerFactory with name "+e+" already exists.");var r;return r=new le(e,null!==t?t:Ye.createDefaultOptions()),this._mapFactories.put(e,r),r},Ye.prototype.closeLoggers=function(){this._mapFactories.values().forEach(function(e){e.closeLoggers()}),this._mapFactories.clear(),this._nameCounter=1},Ye.prototype.getRuntimeSettingsForLoggerFactories=function(){var t=[];return this._mapFactories.forEachValue(function(e){return t.push(e)}),t},Ye.prototype.getLogGroupSettings=function(e,t){var r=this._mapFactories.get(e);return void 0===r?null:r.getLogGroupRuntimeSettingsByIndex(t)},Ye.prototype.getLoggerFactoryRuntimeSettingsByName=function(e){var t=this._mapFactories.get(e);return void 0===t?null:t},Ye.createDefaultOptions=function(){return(new Be).addLogGroupRule(new De(new RegExp(".+"),p.LogLevel.Info))},Ye._INSTANCE=null,Ye);function Ye(){this._nameCounter=1,this._mapFactories=new d,ke.register()}var ze=($e.createLoggerFactory=function(e){return void 0===e&&(e=null),$e.INSTANCE_SERVICE.createLoggerFactory(e)},$e.createNamedLoggerFactory=function(e,t){if(void 0===t&&(t=null),e===$e.DEFAULT_LOGGER_FACTORY_NAME)throw new Error("LoggerFactory name: "+$e.DEFAULT_LOGGER_FACTORY_NAME+" is reserved and cannot be used.");return $e.INSTANCE_SERVICE.createNamedLoggerFactory(e,t)},$e.closeLoggers=function(){return $e.INSTANCE_SERVICE.closeLoggers()},$e.getRuntimeSettings=function(){return $e.INSTANCE_SERVICE},Object.defineProperty($e,"DEFAULT",{get:function(){return $e.getDefault()},enumerable:!0,configurable:!0}),$e.getDefault=function(){return null===$e.DEFAULT_LOGGER_FACTORY&&($e.DEFAULT_LOGGER_FACTORY=$e.DEFAULT_LOGGER_FACTORY=$e.INSTANCE_SERVICE.createNamedLoggerFactory($e.DEFAULT_LOGGER_FACTORY_NAME,(new Be).addLogGroupRule(new De(new RegExp(".+"),p.LogLevel.Severe)))),$e.DEFAULT_LOGGER_FACTORY},$e.DEFAULT_LOGGER_FACTORY_NAME="DEFAULT",$e.INSTANCE_SERVICE=We.getInstance(),$e.DEFAULT_LOGGER_FACTORY=null,$e);function $e(){}var Ve=(Je.prototype.help=function(){console.log(Je._help)},Je.prototype.listFactories=function(){var e=Je._getRuntimeSettingsLoggerFactories(),t=new L;t.appendLine("Registered LoggerFactories (index / name)");for(var r=0;r<e.length;r++){var n=e[r];t.append("  "+r).append(": "+n.getName()+"\n")}console.log(t.toString())},Je.prototype.showSettings=function(e){void 0===e&&(e="all");var t=[];if("all"===e){var r=0;Je._getRuntimeSettingsLoggerFactories().forEach(function(e){t.push(new v(r++,e))})}else{var n=Je._getRuntimeSettingsLoggerFactories();if(!(0<=e&&e<n.length))throw new Error("Requested number: "+e+" was not found.");t.push(new v(e,n[e]))}for(var o=0,i=t;o<i.length;o++){var a=i[o];console.log("  LoggerFactory: "+a.y.getName()+" (id="+a.x+")");for(var s=a.y.getLogGroupRuntimeSettings(),g=0;g<s.length;g++){var l=s[g];console.log("     LogGroup: (id="+g+")"),console.log("       RegExp: "+l.logGroupRule.regExp.source),console.log("       Level: "+p.LogLevel[l.level].toString()),console.log("       LoggerType: "+p.LoggerType[l.loggerType].toString())}}},Je.prototype.reset=function(t){void 0===t&&(t="all");var e=Je._getRuntimeSettingsLoggerFactories(),r=[];"all"===t?r=e:0<=t&&t<e.length&&r.push(e[t]),r.forEach(function(e){console.log("Reset all settings for factory "+t),new He(e).reset()})},Je.prototype.getLoggerFactoryControl=function(e){var t=Je._getRuntimeSettingsLoggerFactories();if(0<=e&&e<t.length)return new He(t[e]);throw new Error("idFactory is invalid (less than 0) or non existing id.")},Je._getRuntimeSettingsLoggerFactories=function(){return Je._getSettings().getRuntimeSettingsForLoggerFactories()},Je._getSettings=function(){return ze.getRuntimeSettings()},Je._help='\n  help(): void\n    ** Shows this help.\n\n  listFactories(): void\n    ** List all registered LoggerFactories with associated log groups with respective ids (ids can be used to target a factory and/or group).\n\n  showSettings(idFactory: number | "all"): void\n    ** Show log group settings for idFactory (use listFactories to find id for a LoggerFactory). If idFactory is "all" shows all factories.\n\n  getLoggerFactoryControl(idFactory: number): LoggerFactoryControl\n    ** Return LoggerFactoryControl when found for given idFactory or throws Error if invalid or null, get the id by using listFactories()\n\n  reset(idFactory: number | "all"): void\n    ** Resets given factory or all factories back to original values.\n',Je);function Je(){}var He=(qe.prototype.help=function(){console.log(qe._help)},qe.prototype.example=function(){console.log(qe._example)},qe.prototype.showSettings=function(e){void 0===e&&(e="all");var t=new L,r=this._settings.getLogGroupRuntimeSettings();t.appendLine("Registered LogGroups (index / expression)");for(var n=0;n<r.length;n++){var o=r[n];t.appendLine("  "+n+": "+o.logGroupRule.regExp.source+", logLevel="+p.LogLevel[o.level].toString()+", showTimestamp="+o.logFormat.showTimeStamp+", showLoggerName="+o.logFormat.showLoggerName+", format="+p.DateFormatEnum[o.logFormat.dateFormat.formatEnum].toString())}console.log(t.toString())},qe.prototype.change=function(e){function t(e){null!==s&&(s+=", "),null===s?s=e:s+=e}var r=this._getLogGroupRunTimeSettingsFor(e.group),n=null,o=null,i=null,a=null,s=null;"string"==typeof e.logLevel&&(n=p.LogLevel.fromString(e.logLevel),t("logLevel="+e.logLevel)),"string"==typeof e.logFormat&&(o=p.DateFormatEnum.fromString(e.logFormat),t("logFormat="+e.logFormat)),"boolean"==typeof e.showLoggerName&&(i=e.showLoggerName,t("showLoggerName="+e.showLoggerName)),"boolean"==typeof e.showTimestamp&&(a=e.showTimestamp,t("showTimestamp="+e.showTimestamp)),r.forEach(function(e){null!==n&&(e.level=n),null!==o&&(e.logFormat.dateFormat.formatEnum=o),null!==a&&(e.logFormat.showTimeStamp=a),null!==i&&(e.logFormat.showLoggerName=i)}),console.log("Applied changes: "+s+" to log groups '"+e.group+"'.")},qe.prototype.reset=function(e){void 0===e&&(e="all");for(var t=0,r=this._getLogGroupRunTimeSettingsFor(e);t<r.length;t++){var n=r[t];n.level=n.logGroupRule.level,n.logFormat.showTimeStamp=n.logGroupRule.logFormat.showTimeStamp,n.logFormat.showLoggerName=n.logGroupRule.logFormat.showLoggerName,n.logFormat.dateFormat.formatEnum=n.logGroupRule.logFormat.dateFormat.formatEnum}console.log("Reset all settings for group "+e)},qe.prototype._getLogGroupRunTimeSettingsFor=function(e){var t=[];return"all"===e?t=this._settings.getLogGroupRuntimeSettings():(this._checkIndex(e),t.push(this._settings.getLogGroupRuntimeSettings()[e])),t},qe.prototype._checkIndex=function(e){if(e<0||e>=this._settings.getLogGroupRuntimeSettings().length)throw new Error("Invalid index, use listLogGroups to find out a valid one.")},qe._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example of usage.\n\n  showSettings(id: number | "all"): void\n    ** Prints settings for given group id, "all" for all group.\n\n  change(settings: LogGroupControlSettings): void\n    ** Changes the current settings for one or all log groups.\n    **\n       LogGroupControlSettings, properties of object:\n         group: number | "all"\n           ** Apply to specific group, or "all".\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showLoggerName: boolean | undefined\n           ** Whether to show the logger name, undefined will not change the setting.\n           ** Optional\n\n  reset(id: number | "all"): void\n    ** Resets everything to original values, for one specific or for all groups.\n\n  help():\n    ** Shows this help.\n',qe._example='\n  Examples:\n    change({group: "all", logLevel: "Info"})\n      ** Change loglevel to Info for all groups.\n\n    change({group: 1, recursive:false, logLevel: "Warning"})\n      ** Change logLevel for group 1 to Warn.\n\n    change({group: "all", logLevel: "Fine", logFormat: "YearDayMonthTime", showTimestamp:false, showLoggerName:false})\n      ** Change loglevel to Debug for all groups, apply format, do not show timestamp and logger names.\n',qe);function qe(e){this._settings=e}var Ke=(Ze.prototype.help=function(){console.log(Ze._help)},Ze.prototype.example=function(){console.log(Ze._example)},Ze.prototype.showSettings=function(e){void 0===e&&(e="all");var t=new L,r=Ze._getCategoryService();Ze._getCategories(e).forEach(function(e){Ze._processCategory(r,e,t,0)}),console.log(t.toString())},Ze.prototype.change=function(t){function e(e){null!==g&&(g+=", "),null===g?g=e:g+=e}var r=Ze._getCategoryService(),n=Ze._getCategories(t.category),o=null,i=null,a=null,s=null,g=null;function l(e){var t=r.getCategorySettings(e);null!==t&&(null!==o&&(t.logLevel=o),null!==i&&(t.logFormat.dateFormat.formatEnum=i),null!==s&&(t.logFormat.showTimeStamp=s),null!==a&&(t.logFormat.showCategoryName=a))}e("recursive="+t.recursive),"string"==typeof t.logLevel&&(o=p.LogLevel.fromString(t.logLevel),e("logLevel="+t.logLevel)),"string"==typeof t.logFormat&&(i=p.DateFormatEnum.fromString(t.logFormat),e("logFormat="+t.logFormat)),"boolean"==typeof t.showCategoryName&&(a=t.showCategoryName,e("showCategoryName="+t.showCategoryName)),"boolean"==typeof t.showTimestamp&&(s=t.showTimestamp,e("showTimestamp="+t.showTimestamp)),n.forEach(function(e){return Ze._applyToCategory(e,t.recursive,l)}),console.log("Applied changes: "+g+" to categories '"+t.category+"'.")},Ze.prototype.reset=function(e){function t(e){var t=n.getCategorySettings(e),r=n.getOriginalCategorySettings(e);null!==t&&null!==r&&(t.logLevel=r.logLevel,t.logFormat.dateFormat.formatEnum=r.logFormat.dateFormat.formatEnum,t.logFormat.showTimeStamp=r.logFormat.showTimeStamp,t.logFormat.showCategoryName=r.logFormat.showCategoryName)}void 0===e&&(e="all");var n=Ze._getCategoryService(),r=Ze._getCategories(e);r.forEach(function(e){return Ze._applyToCategory(e,!0,t)}),console.log("Applied reset to category: "+e+".")},Ze._processCategory=function(t,e,r,n){var o=t.getCategorySettings(e);if(null!==o){if(r.append("  "+e.id+": "),0<n)for(var i=0;i<n;i++)r.append("  ");r.append(e.name+" ("+p.LogLevel[o.logLevel].toString()+"@"+p.LoggerType[o.loggerType].toString()+")\n"),0<e.children.length&&e.children.forEach(function(e){Ze._processCategory(t,e,r,n+1)})}},Ze._applyToCategory=function(e,t,r){r(e),t&&e.children.forEach(function(e){Ze._applyToCategory(e,t,r)})},Ze._getCategoryService=function(){return Re.getInstance()},Ze._getCategories=function(e){var t=Ze._getCategoryService(),r=[];if("all"===e)r=t.getRootCategories();else{var n=t.getCategoryById(e);if(null===n)throw new Error("Failed to find category with id "+e);r.push(n)}return r},Ze._help='\n  help(): void\n    ** Shows this help.\n\n  example(): void\n    ** Shows an example on how to use this.\n\n  showSettings(id: number | "all" = "all"): void\n    ** Shows settings for a specific category, or for all. The id of categories can be found by calling this method without parameter.\n\n  change(settings: CategoryServiceControlSettings): void\n    ** Changes the current settings for one or all categories.\n    **\n       CategoryServiceControlSettings, properties of object:\n         category: number | "all"\n           ** Apply to specific category, or "all".\n           ** Required\n\n         recursive: boolean\n           ** Apply to child categories (true) or not.\n           ** Required\n\n         logLevel: "Fatal" | "Error" | "Warn" | "Info" | "Debug" | "Trace" | undefined\n           ** Set log level, undefined will not change the setting.\n           ** Optional\n\n         logFormat: "Default" | "YearMonthDayTime" | "YearDayMonthWithFullTime" | "YearDayMonthTime" | undefined\n           ** Set the log format, undefined will not change the setting.\n           ** Optional\n\n         showTimestamp: boolean | undefined\n           ** Whether to show timestamp, undefined will not change the setting.\n           ** Optional\n\n         showCategoryName: boolean | undefined\n           ** Whether to show the category name, undefined will not change the setting.\n           ** Optional\n\n   reset(id: number | "all"): void\n     ** Resets everything to original values, for one specific or for all categories.\n',Ze._example='\n  Examples:\n    change({category: "all", recursive:true, logLevel: "Info"})\n      ** Change loglevel to Info for all categories, apply to child categories as well.\n\n    change({category: 1, recursive:false, logLevel: "Warn"})\n      ** Change logLevel for category 1, do not recurse.\n\n    change({category: "all", recursive:true, logLevel: "Debug", logFormat: "YearDayMonthTime", showTimestamp:false, showCategoryName:false})\n      ** Change loglevel to Debug for all categories, apply format, do not show timestamp and category names - recursively to child categories.\n\n',Ze);function Ze(){}var Xe=(Object.defineProperty(Qe.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(Qe.prototype,"logLevel",{get:function(){return this._logLevel},enumerable:!0,configurable:!0}),Qe.prototype.finest=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.loadCategoryLogger(),(t=this._logger).finest.apply(t,[e].concat(r))},Qe.prototype.finer=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.loadCategoryLogger(),(t=this._logger).finer.apply(t,[e].concat(r))},Qe.prototype.fine=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.loadCategoryLogger(),(t=this._logger).fine.apply(t,[e].concat(r))},Qe.prototype.config=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.loadCategoryLogger(),(t=this._logger).config.apply(t,[e].concat(r))},Qe.prototype.info=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.loadCategoryLogger(),(t=this._logger).info.apply(t,[e].concat(r))},Qe.prototype.warning=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this.loadCategoryLogger(),(r=this._logger).warning.apply(r,[e,t].concat(n))},Qe.prototype.severe=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this.loadCategoryLogger(),(r=this._logger).severe.apply(r,[e,t].concat(n))},Qe.prototype.resolved=function(e,t){for(var r,n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];this.loadCategoryLogger(),(r=this._logger).resolved.apply(r,[e,t].concat(n))},Qe.prototype.log=function(e,t,r){for(var n,o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];this.loadCategoryLogger(),(n=this._logger).log.apply(n,[e,t,r].concat(o))},Qe.prototype.getCategoryPath=function(){for(var e=this.name,t=this.parent;null!=t;)e=t.name+"#"+e,t=t.parent;return e},Object.defineProperty(Qe.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Qe.prototype.loadCategoryLogger=function(){if(this._logger||(this._logger=Re.getInstance().getLogger(this)),void 0===this._logger||null===this._logger)throw new Error("Failed to load a logger for category (should not happen): "+this.name)},Qe.nextId=function(){return Qe.currentId++},Qe.currentId=1,Qe);function Qe(e,t){if(void 0===t&&(t=null),this._children=[],this._logLevel=p.LogLevel.Warning,-1!==e.indexOf("#"))throw new Error("Cannot use # in a name of a Category");this._id=Qe.nextId(),this._name=e,this._parent=t,null!==this._parent&&this._parent._children.push(this),Re.getInstance().registerCategory(this)}var et=(tt.getLogger=function(e){return Re.getInstance().getLogger(e)},tt.clear=function(){return Re.getInstance().clear()},tt.setDefaultConfiguration=function(e,t){void 0===t&&(t=!0),Re.getInstance().setDefaultConfiguration(e,t)},tt.setConfigurationCategory=function(e,t,r){void 0===r&&(r=!1),Re.getInstance().setConfigurationCategory(e,t,r)},tt);function tt(){}var rt=(nt.prototype.getValue=function(){return this._value},nt.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},nt);function nt(e){this._value=e}var ot,it=(S(at,ot=rt),at);function at(e){return ot.call(this,e)||this}var st,gt=(S(lt,st=rt),lt);function lt(e){return st.call(this,e)||this}var ut,ct=(S(pt,ut=rt),pt.prototype.toString=function(){var e=this.getValue();return null!=e?JSON.stringify(e.toString()):"null"},pt);function pt(e){return ut.call(this,e)||this}var ft,ht=(S(mt,ft=rt),mt);function mt(e){return ft.call(this,e)||this}var dt,yt=(S(vt,dt=rt),vt.prototype.toString=function(){var e=this.getValue();return null!=e?e.toString():"null"},vt);function vt(e){return dt.call(this,e)||this}var _t,Lt=(S(wt,_t=rt),wt.prototype.toString=function(){return"null"},wt);function wt(){return _t.call(this,null)||this}var bt=(St.toJSONType=function(e){if(null===e)return new Lt;if("string"==typeof e)return new ct(e);if("number"==typeof e)return new gt(e);if("boolean"==typeof e)return new it(e);if(e instanceof Ct)return new ht(e);throw new Error("Type not supported for value: "+e)},St);function St(){}var Ct=(Et.prototype.addBoolean=function(e,t){return this.checkName(e),Et.checkValue(t),this.values.put(e,new it(t)),this},Et.prototype.addNumber=function(e,t){return this.checkName(e),Et.checkValue(t),this.values.put(e,new gt(t)),this},Et.prototype.addString=function(e,t){return this.checkName(e),Et.checkValue(t),this.values.put(e,new ct(t)),this},Et.prototype.addNull=function(e){return this.checkName(e),this.values.put(e,new Lt),this},Et.prototype.addArray=function(e,t){if(this.checkName(e),Et.checkValue(t),null==t)throw new Error("Cannot add array as null");return this.values.put(e,new yt(t)),this},Et.prototype.addObject=function(e,t){if(this.checkName(e),Et.checkValue(t),null==t)throw new Error("Cannot add object as null");return this.values.put(e,new ht(t)),this},Et.prototype.toString=function(e){var r=this;void 0===e&&(e=!1);var n=!1,o=new L;return o.append("{"),this.values.keys().forEach(function(e){var t=r.values.get(e);null!=t&&(n&&o.append(","),o.append('"').append(e).append('":').append(t.toString()),n=!0)}),o.append("}"),o.toString()},Et.prototype.checkName=function(e){if(null==e||void 0===e)throw new Error("Name is null or undefined");if(this.values.exists(e))throw new Error("Name "+e+" is already present for this object")},Et.checkValue=function(e){if(void 0===e)throw new Error("Value is undefined")},Et);function Et(){this.values=new d}var Ot=(Ft.prototype.add=function(e){if(void 0===e)throw new Error("Object is not allowed to be undefined");return this.objects.push(bt.toJSONType(e)),this},Ft.prototype.toString=function(e){void 0===e&&(e=!1);var r=new L;return r.append("["),this.objects.forEach(function(e,t){0<t&&r.append(","),r.append(e.toString())}),r.append("]"),r.toString()},Ft);function Ft(){this.objects=[]}var Nt=(Tt.categoryToJSON=function(e,t){var r=new Ot;Tt._categoryToJSON(e,r,t);var n=new Ct;return n.addArray("categories",r),n},Tt._categoryToJSON=function(e,t,r){var n=new Ct;n.addNumber("id",e.id),n.addString("name",e.name),n.addString("logLevel",p.LogLevel[e.logLevel].toString()),null!=e.parent?n.addNumber("parent",e.parent.id):n.addNull("parent"),t.add(n),r&&e.children.forEach(function(e){Tt._categoryToJSON(e,t,r)})},Tt);function Tt(){}return p.AbstractCategoryLogger=fe,p.AbstractLogger=Q,p.Category=Xe,p.CategoryConfiguration=Ne,p.CategoryConsoleLoggerImpl=de,p.CategoryDelegateLoggerImpl=ve,p.CategoryLogFormat=l,p.CategoryMessageBufferLoggerImpl=Ce,p.CategoryRuntimeSettings=Oe,p.CategoryServiceFactory=et,p.ConsoleLoggerImpl=re,p.DateFormat=i,p.ExtensionHelper=ke,p.JSONArray=Ot,p.JSONHelper=Nt,p.JSONObject=Ct,p.LFService=ze,p.LinkedList=h,p.LogFormat=s,p.LogGroupRule=De,p.LoggerFactoryOptions=Be,p.MessageBufferLoggerImpl=ie,p.MessageFormatUtils=q,p.SimpleMap=d,p.getCategoryControl=function(){return new Ke},p.getLogControl=function(){return new Ve},p.help=function(){console.log("help()\n   ** Shows this help\n\n getLogControl(): LoggerControl\n   ** Returns LoggerControl Object, use to dynamically change loglevels for log4j logging.\n   ** Call .help() on LoggerControl object for available options.\n\n getCategoryControl(): CategoryServiceControl\n   ** Returns CategoryServiceControl Object, use to dynamically change loglevels for category logging.\n   ** Call .help() on CategoryServiceControl object for available options.\n")},p}({});
//# sourceMappingURL=ts-logplus.browser.js.map
